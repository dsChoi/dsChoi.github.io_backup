<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 3.9.0">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png?v=7.4.1">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png?v=7.4.1">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png?v=7.4.1">
  <link rel="mask-icon" href="/images/logo.svg?v=7.4.1" color="#222">

<link rel="stylesheet" href="/css/main.css?v=7.4.1">


<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css?v=4.7.0">


<script id="hexo-configurations">
  var NexT = window.NexT || {};
  var CONFIG = {
    root: '/',
    scheme: 'Gemini',
    version: '7.4.1',
    exturl: false,
    sidebar: {"position":"left","display":"post","offset":12,"onmobile":false},
    copycode: {"enable":true,"show_result":true,"style":null},
    back2top: {"enable":true,"sidebar":false,"scrollpercent":false},
    bookmark: {"enable":false,"color":"#222","save":"auto"},
    fancybox: false,
    mediumzoom: false,
    lazyload: false,
    pangu: false,
    algolia: {
      appID: '',
      apiKey: '',
      indexName: '',
      hits: {"per_page":10},
      labels: {"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}
    },
    localsearch: {"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},
    path: '',
    motion: {"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}},
    translation: {
      copy_button: '복사',
      copy_success: 'Copied',
      copy_failure: 'Copy failed'
    },
    sidebarPadding: 40
  };
</script>

  <meta name="description" content="chapter 04. 설계 품질과 트레이드오프 객체지향 설계란 올바른 객체에게 올바른 책임을 할당하면서 낮은 결합도와 높은 응집도를 가진 구조를 창조하는 활동이다.  객체지향 설계의 핵심은 책임 책임을 할당하는 작업이 응집도와 결합도 같은 설계 품질과 깊이 연계되어있다.">
<meta name="keywords" content="object">
<meta property="og:type" content="article">
<meta property="og:title" content="chapter 04. 설계 품질과 트레이드오프">
<meta property="og:url" content="https://dschoi.github.io/2020/02/10/object-04/index.html">
<meta property="og:site_name" content="Object Oriented Programmer">
<meta property="og:description" content="chapter 04. 설계 품질과 트레이드오프 객체지향 설계란 올바른 객체에게 올바른 책임을 할당하면서 낮은 결합도와 높은 응집도를 가진 구조를 창조하는 활동이다.  객체지향 설계의 핵심은 책임 책임을 할당하는 작업이 응집도와 결합도 같은 설계 품질과 깊이 연계되어있다.">
<meta property="og:locale" content="ko">
<meta property="og:image" content="https://dschoi.github.io/2020/02/10/object-04/image-20200211220131058.png">
<meta property="og:image" content="https://dschoi.github.io/2020/02/10/object-04/image-20200211221736869.png">
<meta property="og:image" content="https://dschoi.github.io/2020/02/10/object-04/image-20200211222351496.png">
<meta property="og:image" content="https://dschoi.github.io/2020/02/10/object-04/image-20200211223139559.png">
<meta property="og:image" content="https://dschoi.github.io/2020/02/10/object-04/image-20200211224204466.png">
<meta property="og:updated_time" content="2020-02-23T16:18:47.318Z">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="chapter 04. 설계 품질과 트레이드오프">
<meta name="twitter:description" content="chapter 04. 설계 품질과 트레이드오프 객체지향 설계란 올바른 객체에게 올바른 책임을 할당하면서 낮은 결합도와 높은 응집도를 가진 구조를 창조하는 활동이다.  객체지향 설계의 핵심은 책임 책임을 할당하는 작업이 응집도와 결합도 같은 설계 품질과 깊이 연계되어있다.">
<meta name="twitter:image" content="https://dschoi.github.io/2020/02/10/object-04/image-20200211220131058.png">

<link rel="canonical" href="https://dschoi.github.io/2020/02/10/object-04/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome: false,
    isPost: true,
    isPage: false,
    isArchive: false
  };
</script>

  <title>chapter 04. 설계 품질과 트레이드오프 | Object Oriented Programmer</title>
  








  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript>

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-meta">

    <div>
      <a href="/" class="brand" rel="start">
        <span class="logo-line-before"><i></i></span>
        <span class="site-title">Object Oriented Programmer</span>
        <span class="logo-line-after"><i></i></span>
      </a>
    </div>
        <p class="site-subtitle">To Improve My Life</p>
  </div>

  <div class="site-nav-toggle">
    <div class="toggle" aria-label="Toggle navigation bar">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>
</div>


<nav class="site-nav">
  
  <ul id="menu" class="menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-fw fa-home"></i>홈</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-fw fa-tags"></i>태그</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-fw fa-th"></i>카테고리</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-fw fa-archive"></i>아카이브</a>

  </li>
        <li class="menu-item menu-item-sitemap">

    <a href="/sitemap.xml" rel="section"><i class="fa fa-fw fa-sitemap"></i>Sitemap</a>

  </li>
  </ul>

</nav>
</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>

  <a href="https://github.com/dschoi" class="github-corner" title="Follow me on GitHub" aria-label="Follow me on GitHub" rel="noopener" target="_blank"><svg width="80" height="80" viewBox="0 0 250 250" aria-hidden="true"><path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path><path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2" fill="currentColor" style="transform-origin: 130px 106px;" class="octo-arm"></path><path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z" fill="currentColor" class="octo-body"></path></svg></a>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content">
            

  <div class="posts-expand">
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block " lang="ko">
    <link itemprop="mainEntityOfPage" href="https://dschoi.github.io/2020/02/10/object-04/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Stones">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Object Oriented Programmer">
    </span>
      <header class="post-header">
        <h1 class="post-title" itemprop="name headline">
          chapter 04. 설계 품질과 트레이드오프
        </h1>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-calendar-o"></i>
              </span>
              <span class="post-meta-item-text">작성일</span>

              <time title="Post created: 2020-02-10 01:05:07" itemprop="dateCreated datePublished" datetime="2020-02-10T01:05:07+09:00">2020-02-10</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="fa fa-calendar-check-o"></i>
                </span>
                <span class="post-meta-item-text">Edited on</span>
                <time title="Updated at: 2020-02-24 01:18:47" itemprop="dateModified" datetime="2020-02-24T01:18:47+09:00">2020-02-24</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="fa fa-folder-o"></i>
              </span>
              <span class="post-meta-item-text">In</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/도서/" itemprop="url" rel="index">
                    <span itemprop="name">도서</span>
                  </a>
                </span>
            </span>

          
  
  <span class="post-meta-item">
    
      <span class="post-meta-item-icon">
        <i class="fa fa-comment-o"></i>
      </span>
      <span class="post-meta-item-text">Facebook: </span>
    
    <a title="facebook comments" href="/2020/02/10/object-04/#comments" itemprop="discussionUrl">
      <span class="post-comments-count fb-comments-count" data-href="https://dschoi.github.io/2020/02/10/object-04/" itemprop="commentCount">0</span>
    </a>
  </span>
  
  

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
        <h1 id="chapter-04-설계-품질과-트레이드오프"><a href="#chapter-04-설계-품질과-트레이드오프" class="headerlink" title="chapter 04. 설계 품질과 트레이드오프"></a>chapter 04. 설계 품질과 트레이드오프</h1><blockquote>
<p>객체지향 설계란 올바른 객체에게 올바른 책임을 할당하면서 낮은 결합도와 높은 응집도를 가진 구조를 창조하는 활동이다.</p>
</blockquote><ol>
<li>객체지향 설계의 핵심은 책임</li>
<li>책임을 할당하는 작업이 응집도와 결합도 같은 설계 품질과 깊이 연계되어있다. </li>
</ol><a id="more"></a>

<h2 id="01-데이터-중심의-영화-예매-시스템"><a href="#01-데이터-중심의-영화-예매-시스템" class="headerlink" title="01 . 데이터 중심의 영화 예매 시스템"></a>01 . 데이터 중심의 영화 예매 시스템</h2><p><strong>객체지향 설계의 시스템을 객체로 분할하는 두가지 방법</strong></p>
<ol>
<li>상태를 분할의 중심축으로 </li>
<li>책임을 분할의 중심축으로</li>
</ol>
<p><code>상태</code> =<code>데이터</code></p>
<h3 id="데이터를-준비하자"><a href="#데이터를-준비하자" class="headerlink" title="데이터를 준비하자"></a>데이터를 준비하자</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Movie</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String title;</span><br><span class="line">    <span class="keyword">private</span> Duration runningTime;</span><br><span class="line">    <span class="keyword">private</span> Money fee;</span><br><span class="line">    <span class="keyword">private</span> List&lt;DiscountCondition&gt; discountConditions;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> MovieType movieType;</span><br><span class="line">    <span class="keyword">private</span> Money discountAmount;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">double</span> discountPercent;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> MovieType &#123;</span><br><span class="line">    AMOUNT_DISCOUNT, <span class="comment">//금액 할인 정책</span></span><br><span class="line">    PERCENT_DISCOUNT, <span class="comment">//비율 할인 정책</span></span><br><span class="line">    NONE_DISCOUNT <span class="comment">// 미적용</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>객체지향의 가장 중요한 원칙인 캡슐화를 위해 Movie 클래스에  <strong>접근자(accessor)</strong>와 <strong>수정자(mutator)</strong>를 추가. </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> String <span class="title">getTitle</span><span class="params">()</span> </span>&#123;</span><br><span class="line">       <span class="keyword">return</span> title;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setTitle</span><span class="params">(String title)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">this</span>.title = title;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> Duration <span class="title">getRunningTime</span><span class="params">()</span> </span>&#123;</span><br><span class="line">       <span class="keyword">return</span> runningTime;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setRunningTime</span><span class="params">(Duration runningTime)</span> </span>&#123;</span><br><span class="line">       <span class="keyword">this</span>.runningTime = runningTime;</span><br><span class="line">   &#125;</span><br><span class="line"></span><br><span class="line">   <span class="function"><span class="keyword">public</span> Money <span class="title">getFee</span><span class="params">()</span> </span>&#123;</span><br><span class="line">       <span class="keyword">return</span> fee;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure>

<p>소스코드는 아래 링크에 추가해놓았으니 확인 바랍니다.</p>
<p><a href="https://github.com/dsChoi/study/tree/master/src/main/java/com/setin/study/objects/chapter04" target="_blank" rel="noopener">https://github.com/dsChoi/study/tree/master/src/main/java/com/setin/study/objects/chapter04</a></p>
<p><strong>영화 예매 시스템 구현을 위한 데이터 클래스</strong></p>
<img src="/2020/02/10/object-04/image-20200211220131058.png" alt="image-20200211220131058" style="zoom:50%;">





<h3 id="영화를-예매하자"><a href="#영화를-예매하자" class="headerlink" title="영화를 예매하자"></a>영화를 예매하자</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReservationAgency</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Reservation <span class="title">reserve</span><span class="params">(Screening screening, Customer customer, <span class="keyword">int</span> audienceCount)</span> </span>&#123;</span><br><span class="line">        Movie movie = screening.getMovie();</span><br><span class="line">        <span class="keyword">boolean</span> discountable = <span class="keyword">false</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (DiscountCondition condition : movie.getDiscountConditions()) &#123;</span><br><span class="line">            <span class="keyword">if</span> (condition.getType() == DiscountConditionType.PERIOD) &#123;</span><br><span class="line">                discountable = screening.getWhenScreened().getDayOfWeek().equals(condition.getDayOfWeek())</span><br><span class="line">                        &amp;&amp; condition.getStartTime().compareTo(screening.getWhenScreened().toLocalTime()) &lt;= <span class="number">0</span></span><br><span class="line">                        &amp;&amp; condition.getEndTime().compareTo(screening.getWhenScreened().toLocalTime()) &lt;= <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                discountable = condition.getSequence() == screening.getSequence();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (discountable) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        Money fee;</span><br><span class="line">        <span class="keyword">if</span> (discountable) &#123;</span><br><span class="line">            Money discountAmount = Money.ZERO;</span><br><span class="line">            <span class="keyword">switch</span> (movie.getMovieType()) &#123;</span><br><span class="line">                <span class="keyword">case</span> AMOUNT_DISCOUNT:</span><br><span class="line">                    discountAmount = movie.getDiscountAmount();</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="keyword">case</span> PERCENT_DISCOUNT:</span><br><span class="line">                    discountAmount = movie.getFee().times(movie.getDiscountPercent());</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">case</span> NONE_DISCOUNT:</span><br><span class="line">                    discountAmount = Money.ZERO;</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            fee = movie.getFee().minus(discountAmount).times(audienceCount);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            fee = movie.getFee();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Reservation(customer, screening, fee, audienceCount);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h2 id="02-설계-트레이드오프"><a href="#02-설계-트레이드오프" class="headerlink" title="02. 설계 트레이드오프"></a>02. 설계 트레이드오프</h2><h3 id="캡슐화"><a href="#캡슐화" class="headerlink" title="캡슐화"></a>캡슐화</h3><ul>
<li>외부에서 알 필요가 없는 부분을 감춤으로써 대상을 단순화 하는 추상화의 한 종류</li>
<li>객체지향 설계의 가장 중요한 원리는 불안정한 구현 세부사항을 안정적인 인터페이스 뒤로 캡슐화 하는 것</li>
</ul>
<blockquote>
<p>복잡성을 다루기 위한 가장 효과적인 도구는 추상화다. 다양한 추상화 유형을 사용할 수 있지만 객체지향 프로그래밍에서 복잡성을 취급하는 주요한 추상화 방법은 캡슐화다. 그러나 객체지향 언어를 사용한다해서 잘 캡슐화 된다는 보장은 없다.<br>객체지향 프로그래밍을 통해 전반적으로 얻을 수 있는 장점은 오직 설계 과정 동안 캡슐화를 목표로 인식할때만 달성될 수 있다.</p>
</blockquote>
<h3 id="응집도와-결합도"><a href="#응집도와-결합도" class="headerlink" title="응집도와 결합도"></a>응집도와 결합도</h3><p><strong>응집도</strong></p>
<p>모듈에 포함된 내부 요소들이 연관되어 있는 정도</p>
<p><strong>결합도</strong></p>
<p>의존성의 정도를 나타내며 다른 모듈에 대해 얼마나 많은 지식을 갖고 있는지를 나타내는 척도</p>
<p>높은 응집도와 낮은 결합도를 가진 설계를 추구해야하는 이유는  그것이 <strong>설계를 변경하기 쉽게 만들기 때문.</strong></p>
<p>응집도가 높은 설계에서는 하나의 요구사항을 변경하기 위해 하나의 모듈만 수정하면된다.</p>
<p>응집도가 낮은 설계에서는 하나의 요구사항을 변경하기 위해 여러 모듈을 동시에 수정해야한다.</p>
<img src="/2020/02/10/object-04/image-20200211221736869.png" alt="image-20200211221736869" style="zoom:50%;">



<p>결합도는 <strong>한 모듈이 변경되기 위해서 다른 모듈의 변경을 요구하는 정도</strong> </p>
<img src="/2020/02/10/object-04/image-20200211222351496.png" alt="image-20200211222351496" style="zoom:50%;">



<h2 id="03-데이터-중심의-영화-예매-시스템의-문제점"><a href="#03-데이터-중심의-영화-예매-시스템의-문제점" class="headerlink" title="03. 데이터 중심의 영화 예매 시스템의 문제점"></a>03. 데이터 중심의 영화 예매 시스템의 문제점</h2><p>데이터 중심의 설계가 가진 대표적인 문제점</p>
<ul>
<li>캡슐화 위반</li>
<li>높은 결합도</li>
<li>낮은 응집도</li>
</ul>
<h3 id="캡슐화-위반"><a href="#캡슐화-위반" class="headerlink" title="캡슐화 위반"></a>캡슐화 위반</h3><p>앨런 홀럽 : 접근자와 수정자에 과도하게 의존하는 설계 방식을 추측에 의한 설계 전략이라 부른다. </p>
<p>get, set 메소드로 인해 movie 가 Money타입을 가지는 fee라는 인스턴스 변수가 존재하는 것을 인터페이스에서 노출.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Movie</span> </span>&#123;</span><br><span class="line">  <span class="keyword">private</span> Money fee;</span><br><span class="line"><span class="function"><span class="keyword">public</span> Money <span class="title">getFee</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> fee;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">setFee</span><span class="params">(Money fee)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.fee = fee;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="높은-결합도"><a href="#높은-결합도" class="headerlink" title="높은 결합도"></a>높은 결합도</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReservationAgency</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Reservation <span class="title">reserve</span><span class="params">(Screening screening, Customer customer, <span class="keyword">int</span> audienceCount)</span> </span>&#123;</span><br><span class="line">        ...</span><br><span class="line">        Money fee;</span><br><span class="line">        <span class="keyword">if</span> (discountable) &#123;</span><br><span class="line">        ...</span><br><span class="line">            fee = movie.getFee().minus(discountAmount).times(audienceCount);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            fee = movie.getFee();</span><br><span class="line">        &#125;</span><br><span class="line">				...</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>너무 많은 대상에 의존하기에 변경에 취약한 ReservationAgency</strong></p>
<img src="/2020/02/10/object-04/image-20200211223139559.png" alt="image-20200211223139559" style="zoom:50%;">





<h3 id="낮은-응집도"><a href="#낮은-응집도" class="headerlink" title="낮은 응집도"></a>낮은 응집도</h3><p>ReservationAgency 에  다음과 같은 수정사항이 발생할 경우 코드를 수정해야할 것</p>
<ul>
<li>할인 정책이 추가될 경우</li>
<li>할인 정책별로 할인 요금을 계산하는 방법이 변경될 경우</li>
<li>할인 조건이 추가되는 경우</li>
<li>할인 조건별로 할인 여부를 판단하는 방법이 변경될 경우</li>
<li>예매 요금을 계산하는 방법이 변경될 경우</li>
</ul>
<p><strong>낮은 응집도는 두가지 측면에서 설계에 문제를 일으킨다.</strong></p>
<ul>
<li>변경의 이유가 서로 다른 코드들을 하나의 모듈 안에 뭉쳐 놓았기 때문에 변경과 아무 상관이 없는 코드들이 영향을 받는다.</li>
<li>하나의 요구사항 변경을 반영하기 위해 동시에 여러 모듈을 수정해야 한다. 응집도가 낮을 경우 다른 모듈에 위치해야 할 책임의 일부가 엉뚱한 곳에 위치하기 때문이다. </li>
</ul>
<p><strong>단일 책임 원칙(Single Responsibility Principle, SRP)</strong></p>
<blockquote>
<p>로버트 마틴 , 클래스는 단 한가지의 변경 이유만 가져야 한다는 것이다. </p>
</blockquote>
<h2 id="04-자율적인-객체를-향해"><a href="#04-자율적인-객체를-향해" class="headerlink" title="04. 자율적인 객체를 향해"></a>04. 자율적인 객체를 향해</h2><h3 id="캡슐화를-지켜라"><a href="#캡슐화를-지켜라" class="headerlink" title="캡슐화를 지켜라"></a>캡슐화를 지켜라</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">AnyClass</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">void</span> <span class="title">any</span><span class="params">(Rectangle rectangle, <span class="keyword">int</span> muliple)</span></span>&#123;</span><br><span class="line">    rectangle.setRight(rectangle.getRight() * multiple);</span><br><span class="line">    rectangle.setBottom(rectangle.getBottom() * multiple);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Rectangle</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">enlarge</span><span class="params">(<span class="keyword">int</span> multiple)</span></span>&#123;</span><br><span class="line">    right *= muliple;</span><br><span class="line">    bottom *= multiple;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="스스로-자신의-데이터를-책임지는-객체"><a href="#스스로-자신의-데이터를-책임지는-객체" class="headerlink" title="스스로 자신의 데이터를 책임지는 객체"></a>스스로 자신의 데이터를 책임지는 객체</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DiscountCondition</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> DiscountConditionType type;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> sequence;</span><br><span class="line">    <span class="keyword">private</span> DayOfWeek dayOfWeek;</span><br><span class="line">    <span class="keyword">private</span> LocalTime startTime;</span><br><span class="line">    <span class="keyword">private</span> LocalTime endTime;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DiscountCondition</span> </span>&#123;</span><br><span class="line">...</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isDiscountable</span><span class="params">(DayOfWeek dayOfWeek, LocalTime time )</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(type != DiscountConditionType.PERIOD)&#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.dayOfWeek.equals(dayOfWeek) &amp;&amp;</span><br><span class="line">                <span class="keyword">this</span>.startTime.compareTo(time) &lt;=<span class="number">0</span> &amp;&amp;</span><br><span class="line">                <span class="keyword">this</span>.endTime.compareTo(time) &gt;=<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isDiscountable</span><span class="params">(<span class="keyword">int</span> sequence)</span></span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(type != DiscountConditionType.SEQUENCE)&#123;</span><br><span class="line">            <span class="keyword">throw</span>  <span class="keyword">new</span> IllegalArgumentException();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.sequence == sequence;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Movie</span></span>&#123;</span><br><span class="line">  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> Money <span class="title">calculateAmountDiscountedFee</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (movieType != MovieType.AMOUNT_DISCOUNT) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(</span><br><span class="line">            );</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> fee.minus(discountAmount);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Money <span class="title">calculatePercentDiscountedFee</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (movieType != MovieType.PERCENT_DISCOUNT) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException(</span><br><span class="line">            );</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> fee.minus(fee.times(discountPercent));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Money <span class="title">calculateNoneDiscountedFee</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span> (movieType != MovieType.NONE_DISCOUNT) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> IllegalArgumentException();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> fee;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isDiscountable</span><span class="params">(LocalDateTime whenScreend, <span class="keyword">int</span> sequence)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (DiscountCondition condition : discountConditions) &#123;</span><br><span class="line">            <span class="keyword">if</span> (condition.getType() == DiscountConditionType.PERIOD) &#123;</span><br><span class="line">                <span class="keyword">return</span> condition.isDiscountable(whenScreend.getDayOfWeek(), whenScreend.toLocalTime());</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> condition.isDiscountable(sequence);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ReservationAgency</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> Reservation <span class="title">reserve</span><span class="params">(Screening screening, Customer customer, <span class="keyword">int</span> audienceCount)</span> </span>&#123;</span><br><span class="line">        Money fee = screening.calculateFee(audienceCount);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> Reservation(customer, screening, fee, audienceCount);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>** 결합도 측면에서 이전보다 개선된 설계**</p>
<img src="/2020/02/10/object-04/image-20200211224204466.png" alt="image-20200211224204466" style="zoom:50%;">



<h2 id="05-하지만-여전히-부족하다"><a href="#05-하지만-여전히-부족하다" class="headerlink" title="05. 하지만 여전히 부족하다"></a>05. 하지만 여전히 부족하다</h2><h3 id="캡슐화-위반-1"><a href="#캡슐화-위반-1" class="headerlink" title="캡슐화 위반"></a>캡슐화 위반</h3><p>Movie 는 아래 세개 메서드를 통해 할인 정책에는 금액, 비율, 미적용 정책이 세가지 존재한다는 것을 노출한다. </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Movie</span></span>&#123; </span><br><span class="line">    <span class="function"><span class="keyword">public</span> Money <span class="title">calculateAmountDiscountedFee</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Money <span class="title">calculatePercentDiscountedFee</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Money <span class="title">calculateNoneDiscountedFee</span><span class="params">()</span> </span>&#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>캡슐화의 진정한 의미</strong></p>
<blockquote>
<p>캡슐화가 단순히 객체 내부의 데이터를 외부로부터 감추는 것 이상의 의미를  잘 보여준다. 사실 캡슐화는 변경될 수 있는 어떤 것이라도 감추는 것을 의미. 내부 속성을 외부로부터 감추는 것은 ‘데이터 캡슐화’ 라는 캡슐화의 한 종류일 뿐. </p>
<p>캡슐화는 변하는 것 어떤 것이든 감추는 것이다. 그것이 무엇이든 구현과 관련된 것이라면.. </p>
</blockquote>
<h3 id="높은-결합도-1"><a href="#높은-결합도-1" class="headerlink" title="높은 결합도"></a>높은 결합도</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Movie</span></span>&#123;</span><br><span class="line">  </span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">isDiscountable</span><span class="params">(LocalDateTime whenScreend, <span class="keyword">int</span> sequence)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (DiscountCondition condition : discountConditions) &#123;</span><br><span class="line">            <span class="keyword">if</span> (condition.getType() == DiscountConditionType.PERIOD) &#123;</span><br><span class="line">                <span class="keyword">return</span> condition.isDiscountable(whenScreend.getDayOfWeek(), whenScreend.toLocalTime());</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> condition.isDiscountable(sequence);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<ul>
<li><p>DiscountCondition의 기간 할인 조건의 명칭이 PERIOD에서 다른 값을 변경되면 Movie를 수정해야한다.</p>
</li>
<li><p>DiscountCondition의 종류가 추가되거나 삭제되면 if-else 구문을 수정해야한다.</p>
</li>
<li><p>DiscountCondition의 만족여부를 판단하는데 필요한 정보가 변경되면 Movie의 <code>isDiscountable</code> 메서드로 전달되는 파라미터를 변겨앻야한다. </p>
</li>
</ul>
<h3 id="낮은-응집도-1"><a href="#낮은-응집도-1" class="headerlink" title="낮은 응집도"></a>낮은 응집도</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Screening</span></span>&#123;</span><br><span class="line">  <span class="function"><span class="keyword">public</span> Money <span class="title">calculateFee</span><span class="params">(<span class="keyword">int</span> audienceCount)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">switch</span> (movie.getMovieType()) &#123;</span><br><span class="line">            <span class="keyword">case</span> AMOUNT_DISCOUNT:</span><br><span class="line">                <span class="keyword">if</span> (movie.isDiscountable(whenScreened, sequence)) &#123;</span><br><span class="line">                    <span class="keyword">return</span> movie.calculateAmountDiscountedFee().times(audienceCount);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> PERCENT_DISCOUNT:</span><br><span class="line">                <span class="keyword">if</span> (movie.isDiscountable(whenScreened, sequence)) &#123;</span><br><span class="line">                    <span class="keyword">return</span> movie.calculatePercentDiscountedFee().times(audienceCount);</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">case</span> NONE_DISCOUNT:</span><br><span class="line">                <span class="keyword">return</span> movie.calculateNoneDiscountedFee().times(audienceCount);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> movie.calculateNoneDiscountedFee().times(audienceCount);</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>할인 조건을 변경하려면 DiscountCondition, Movie, Screening을 함께 수정해야한다. </p>
<h2 id="06-데이터-중심-설계의-문제점"><a href="#06-데이터-중심-설계의-문제점" class="headerlink" title="06. 데이터 중심 설계의 문제점"></a>06. 데이터 중심 설계의 문제점</h2><p>데이터 중심의 설계가 변경에 취약한 이유</p>
<ol>
<li>데이터 중심의 설계는 본질적으로 너무 이른 시기에 데이터에 관해 결정하도록 한다.</li>
<li>데이터 중심의 설계에서는 협력이라는 문맥을 고려하지 않고 객체를 고립시킨 채 오퍼레이션을 결정한다. </li>
</ol>
<h3 id="데이터-중심-설계는-객체의-행동보다는-상태에-초점을-맞춘다"><a href="#데이터-중심-설계는-객체의-행동보다는-상태에-초점을-맞춘다" class="headerlink" title="데이터 중심 설계는 객체의 행동보다는 상태에 초점을 맞춘다."></a>데이터 중심 설계는 객체의 행동보다는 상태에 초점을 맞춘다.</h3><p>*<em>데이터는 구현의 일부라는 사실을 명심하라. *</em></p>
<ul>
<li>데이터 중심설계에서 객체는 단순 데이터의 집합체일 뿐이다. </li>
</ul>
<p>너무 이른 시기에 데이터에 대해 고민하기 때문에 캡슐화에 실패하게 된다. 객체의 내부 구현이 객체의 인터페이스를 어지럽히고 객체의 응집도와 결합도에 나쁜 영향을 미치기 때문에 변경에 취약한 코드를 낳게 된다. </p>
<h3 id="데이터-중심-설계는-객체를-고립시킨-채-오퍼레이션을-정의하도록-만든다"><a href="#데이터-중심-설계는-객체를-고립시킨-채-오퍼레이션을-정의하도록-만든다" class="headerlink" title="데이터 중심 설계는 객체를 고립시킨 채 오퍼레이션을 정의하도록 만든다."></a>데이터 중심 설계는 객체를 고립시킨 채 오퍼레이션을 정의하도록 만든다.</h3><p>객체지향 설계의 무게 중심은 내부 객체가 아닌 외부에 맞춰져 있어야한다.  중요한 점은 객체가 다른 객체와 협력하는 방법이다. </p>
<p>데이터 중심 설계의 초점은 객체의 내부가 아닌 내부에 있다. 실행 문맥에 대한 깊이 있는 고민 없이 객체가 관리할 데이터의 세부 정보를 먼저 결정한다.</p>
<p>객체의 인터페이스에 구현이 노출돼 있었기 때문에 협력이 구현 세부사항에 종속돼 있고 그에 따라 객체의 내부 구현이 변경될때 협력하는 객체 모두가 영향을 받을수 밖에 없었던 것이다.</p>

    </div>

    
    
    

      <footer class="post-footer">
          
          <div class="post-tags">
              <a href="/tags/object/" rel="tag"><i class="fa fa-tag"></i> object</a>
          </div>

        

          <div class="post-nav">
            <div class="post-nav-next post-nav-item">
                <a href="/2020/01/28/objects-03/" rel="next" title="chapter 03. 역할, 책임, 협력">
                  <i class="fa fa-chevron-left"></i> chapter 03. 역할, 책임, 협력
                </a>
            </div>

            <span class="post-nav-divider"></span>

            <div class="post-nav-prev post-nav-item">
                <a href="/2020/02/11/objects-05/" rel="prev" title="chapter 05. 책임 할당하기.">
                  chapter 05. 책임 할당하기. <i class="fa fa-chevron-right"></i>
                </a>
            </div>
          </div>
      </footer>
    
  </article>
  
  
  

  </div>


          </div>
          
    
  <div class="comments" id="comments">
    <div class="fb-comments"
       data-href="https://dschoi.github.io/2020/02/10/object-04/"
       data-numposts="10"
       data-width="100%"
       data-colorscheme="light">
    </div>
  </div>
  

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          목차
        </li>
        <li class="sidebar-nav-overview">
          흝어보기
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
          <div class="post-toc motion-element"><ol class="nav"><li class="nav-item nav-level-1"><a class="nav-link" href="#chapter-04-설계-품질과-트레이드오프"><span class="nav-number">1.</span> <span class="nav-text">chapter 04. 설계 품질과 트레이드오프</span></a><ol class="nav-child"><li class="nav-item nav-level-2"><a class="nav-link" href="#01-데이터-중심의-영화-예매-시스템"><span class="nav-number">1.1.</span> <span class="nav-text">01 . 데이터 중심의 영화 예매 시스템</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#데이터를-준비하자"><span class="nav-number">1.1.1.</span> <span class="nav-text">데이터를 준비하자</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#영화를-예매하자"><span class="nav-number">1.1.2.</span> <span class="nav-text">영화를 예매하자</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#02-설계-트레이드오프"><span class="nav-number">1.2.</span> <span class="nav-text">02. 설계 트레이드오프</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#캡슐화"><span class="nav-number">1.2.1.</span> <span class="nav-text">캡슐화</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#응집도와-결합도"><span class="nav-number">1.2.2.</span> <span class="nav-text">응집도와 결합도</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#03-데이터-중심의-영화-예매-시스템의-문제점"><span class="nav-number">1.3.</span> <span class="nav-text">03. 데이터 중심의 영화 예매 시스템의 문제점</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#캡슐화-위반"><span class="nav-number">1.3.1.</span> <span class="nav-text">캡슐화 위반</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#높은-결합도"><span class="nav-number">1.3.2.</span> <span class="nav-text">높은 결합도</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#낮은-응집도"><span class="nav-number">1.3.3.</span> <span class="nav-text">낮은 응집도</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#04-자율적인-객체를-향해"><span class="nav-number">1.4.</span> <span class="nav-text">04. 자율적인 객체를 향해</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#캡슐화를-지켜라"><span class="nav-number">1.4.1.</span> <span class="nav-text">캡슐화를 지켜라</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#스스로-자신의-데이터를-책임지는-객체"><span class="nav-number">1.4.2.</span> <span class="nav-text">스스로 자신의 데이터를 책임지는 객체</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#05-하지만-여전히-부족하다"><span class="nav-number">1.5.</span> <span class="nav-text">05. 하지만 여전히 부족하다</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#캡슐화-위반-1"><span class="nav-number">1.5.1.</span> <span class="nav-text">캡슐화 위반</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#높은-결합도-1"><span class="nav-number">1.5.2.</span> <span class="nav-text">높은 결합도</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#낮은-응집도-1"><span class="nav-number">1.5.3.</span> <span class="nav-text">낮은 응집도</span></a></li></ol></li><li class="nav-item nav-level-2"><a class="nav-link" href="#06-데이터-중심-설계의-문제점"><span class="nav-number">1.6.</span> <span class="nav-text">06. 데이터 중심 설계의 문제점</span></a><ol class="nav-child"><li class="nav-item nav-level-3"><a class="nav-link" href="#데이터-중심-설계는-객체의-행동보다는-상태에-초점을-맞춘다"><span class="nav-number">1.6.1.</span> <span class="nav-text">데이터 중심 설계는 객체의 행동보다는 상태에 초점을 맞춘다.</span></a></li><li class="nav-item nav-level-3"><a class="nav-link" href="#데이터-중심-설계는-객체를-고립시킨-채-오퍼레이션을-정의하도록-만든다"><span class="nav-number">1.6.2.</span> <span class="nav-text">데이터 중심 설계는 객체를 고립시킨 채 오퍼레이션을 정의하도록 만든다.</span></a></li></ol></li></ol></li></ol></div>
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <img class="site-author-image" itemprop="image" alt="Stones"
    src="/images/avatar.gif">
  <p class="site-author-name" itemprop="name">Stones</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">23</span>
          <span class="site-state-item-name">포스트</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">2</span>
        <span class="site-state-item-name">카테고리</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">8</span>
        <span class="site-state-item-name">태그</span></a>
      </div>
  </nav>
</div>
  <div class="links-of-author motion-element">
      <span class="links-of-author-item">
        <a href="https://github.com/dschoi" title="GitHub &rarr; https://github.com/dschoi" rel="noopener" target="_blank"><i class="fa fa-fw fa-github"></i>GitHub</a>
      </span>
      <span class="links-of-author-item">
        <a href="mailto:setin82@gmail.com" title="E-Mail &rarr; mailto:setin82@gmail.com" rel="noopener" target="_blank"><i class="fa fa-fw fa-envelope"></i>E-Mail</a>
      </span>
  </div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-user"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Stones</span>
</div>
  <div class="powered-by">Powered by <a href="https://hexo.io" class="theme-link" rel="noopener" target="_blank">Hexo</a> v3.9.0
  </div>
  <span class="post-meta-divider">|</span>
  <div class="theme-info">Theme – <a href="https://theme-next.org" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> v7.4.1
  </div>

        












        
      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js?v=3.1.0"></script>
  <script src="/lib/velocity/velocity.min.js?v=1.2.1"></script>
  <script src="/lib/velocity/velocity.ui.min.js?v=1.2.1"></script>
<script src="/js/utils.js?v=7.4.1"></script><script src="/js/motion.js?v=7.4.1"></script>
<script src="/js/schemes/pisces.js?v=7.4.1"></script>
<script src="/js/next-boot.js?v=7.4.1"></script>



  



  <script>
    function fbAsyncInit() {
      FB.init({
        appId  : '',
        xfbml  : true,
        version: 'v3.3'
      });
    }
    (function(d, s, id) {
      var js, fjs = d.getElementsByTagName(s)[0];
      if (d.getElementById(id)) {return;}
      js = d.createElement(s); js.id = id;
      js.src = "//connect.facebook.net/ko/sdk.js";
      fjs.parentNode.insertBefore(js, fjs);
    }(document, 'script', 'facebook-jssdk'));
  </script>















  

  

  

</body>
</html>
